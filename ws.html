<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    var ws = new WebSocket('ws://localhost:40510');
    ws.onopen = function () {
        console.log('websocket is connected ...')
        $("textarea#ahihi").val("ƒêang get");
        ws.send('connected')
    }
    ws.onmessage = function (ev) {
        var a = `http://localhost:3000/download/${ev.data}.txt`
        $("a").attr("href", a);

        // $("textarea#ahihi").val(ev.data + '\r\n');
        // console.log(ev.data + '\r\n');
        console.log(ev);
    }
    
</script>

<textarea name="ahihi" id="ahihi"></textarea>
<a href="">Download</a>